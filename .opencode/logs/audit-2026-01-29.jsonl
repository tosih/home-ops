{"timestamp":"2026-01-29T02:38:14.505Z","event":"bash","command":"kubectl cluster-info"}
{"timestamp":"2026-01-29T02:38:14.961Z","event":"bash","command":"kubectl get nodes -o wide"}
{"timestamp":"2026-01-29T02:38:15.779Z","event":"bash","command":"flux get ks -A"}
{"timestamp":"2026-01-29T02:38:16.531Z","event":"bash","command":"kubectl -n kube-system get pods -l k8s-app=cilium"}
{"timestamp":"2026-01-29T02:38:24.040Z","event":"bash","command":"kubectl get gateway -A"}
{"timestamp":"2026-01-29T02:38:24.922Z","event":"bash","command":"kubectl get svc -A | grep -E \"LoadBalancer|EXTERNAL-IP\""}
{"timestamp":"2026-01-29T02:38:25.611Z","event":"bash","command":"kubectl -n network get pods"}
{"timestamp":"2026-01-29T02:38:26.493Z","event":"bash","command":"kubectl -n kube-system get svc cilium-gateway-internal cilium-gateway-external -o wide"}
{"timestamp":"2026-01-29T02:38:36.344Z","event":"bash","command":"kubectl -n default describe gateway external"}
{"timestamp":"2026-01-29T02:38:36.982Z","event":"bash","command":"kubectl get httproute -A"}
{"timestamp":"2026-01-29T02:38:37.776Z","event":"bash","command":"kubectl -n network logs deployment/cloudflare-tunnel --tail=50"}
{"timestamp":"2026-01-29T02:38:50.310Z","event":"bash","command":"grep -r \"SECRET_DOMAIN\" kubernetes/apps/default/ 2>/dev/null | head -20"}
{"timestamp":"2026-01-29T02:38:57.855Z","event":"bash","command":"kubectl -n default get gateway external -o yaml | grep -A5 -B5 \"SECRET_DOMAIN\""}
{"timestamp":"2026-01-29T02:39:05.647Z","event":"bash","command":"find kubernetes/apps -name \"*.yaml\" -exec grep -l \"name: external\" {} \\; 2>/dev/null | xargs grep -l \"kind: Gateway\" 2>/dev/null"}
{"timestamp":"2026-01-29T02:39:06.731Z","event":"bash","command":"kubectl get gateway external -n default -o jsonpath='{.metadata.labels}' && echo \"\""}
{"timestamp":"2026-01-29T02:39:13.155Z","event":"bash","command":"kubectl get secret -n default | grep production-tls"}
{"timestamp":"2026-01-29T02:39:23.640Z","event":"bash","command":"kubectl get httproute -n default -o yaml | grep -A2 \"parentRefs:\" | grep -A1 \"name: external\""}
{"timestamp":"2026-01-29T02:39:24.511Z","event":"bash","command":"kubectl get httproute echo -n default -o jsonpath='{.spec.parentRefs}' | jq"}
{"timestamp":"2026-01-29T02:39:35.257Z","event":"bash","command":"kubectl -n network logs deployment/adguard-home --tail=50"}
{"timestamp":"2026-01-29T02:39:35.946Z","event":"bash","command":"kubectl -n network get svc adguard-home-dns -o wide"}
{"timestamp":"2026-01-29T02:39:36.521Z","event":"bash","command":"kubectl -n network get endpoints adguard-home-dns"}
{"timestamp":"2026-01-29T02:39:37.107Z","event":"bash","command":"dig @10.0.50.107 google.com +short"}
{"timestamp":"2026-01-29T02:40:08.494Z","event":"bash","command":"kubectl run --rm -it --restart=Never test-dns --image=busybox -- nslookup google.com 8.8.8.8"}
{"timestamp":"2026-01-29T02:40:09.548Z","event":"bash","command":"kubectl -n network exec deployment/adguard-home -- ping -c 3 8.8.8.8"}
{"timestamp":"2026-01-29T02:40:10.303Z","event":"bash","command":"kubectl -n network exec deployment/adguard-home -- ping -c 3 9.9.9.9"}
{"timestamp":"2026-01-29T02:40:46.186Z","event":"bash","command":"kubectl -n network get configmap -l app.kubernetes.io/name=adguard-home"}
{"timestamp":"2026-01-29T02:40:47.587Z","event":"bash","command":"kubectl -n network exec deployment/adguard-home -- cat /opt/adguardhome/conf/AdGuardHome.yaml | grep -A20 \"upstream_dns:\""}
{"timestamp":"2026-01-29T02:40:59.727Z","event":"bash","command":"kubectl -n network exec deployment/adguard-home -- netstat -tuln | grep :53"}
{"timestamp":"2026-01-29T02:41:00.707Z","event":"bash","command":"kubectl -n network exec deployment/adguard-home -- nslookup google.com 127.0.0.1"}
{"timestamp":"2026-01-29T02:41:01.575Z","event":"bash","command":"kubectl -n network get networkpolicy"}
{"timestamp":"2026-01-29T02:41:02.566Z","event":"bash","command":"kubectl -n network describe pod -l app.kubernetes.io/name=adguard-home | grep -A10 \"Conditions:\""}
{"timestamp":"2026-01-29T02:41:49.748Z","event":"bash","command":"kubectl -n network rollout restart deployment/adguard-home"}
{"timestamp":"2026-01-29T02:41:50.446Z","event":"bash","command":"kubectl -n network rollout status deployment/adguard-home --timeout=60s"}
{"timestamp":"2026-01-29T02:42:56.285Z","event":"bash","command":"kubectl -n network get pods -l app.kubernetes.io/name=adguard-home"}
{"timestamp":"2026-01-29T02:42:57.063Z","event":"bash","command":"kubectl -n network describe pod -l app.kubernetes.io/name=adguard-home | tail -30"}
{"timestamp":"2026-01-29T02:43:03.707Z","event":"bash","command":"kubectl -n network logs deployment/adguard-home --tail=30"}
{"timestamp":"2026-01-29T02:43:04.775Z","event":"bash","command":"sleep 15 && kubectl -n network get pods -l app.kubernetes.io/name=adguard-home"}
{"timestamp":"2026-01-29T02:43:26.746Z","event":"bash","command":"sleep 20 && kubectl -n network get pods -l app.kubernetes.io/name=adguard-home && dig @10.0.50.107 google.com +short +time=2"}
{"timestamp":"2026-01-29T02:43:56.800Z","event":"bash","command":"kubectl -n network get pods -l app.kubernetes.io/name=adguard-home -o wide"}
{"timestamp":"2026-01-29T02:43:57.536Z","event":"bash","command":"kubectl -n network logs deployment/adguard-home --tail=50"}
{"timestamp":"2026-01-29T02:44:10.707Z","event":"bash","command":"kubectl -n network exec deployment/adguard-home -- sh -c \"timeout 3 nc -zv 1.1.1.1 53 && timeout 3 nc -zv 9.9.9.9 53\" 2>&1"}
{"timestamp":"2026-01-29T02:44:19.236Z","event":"bash","command":"kubectl -n network exec deployment/adguard-home -- cat /opt/adguardhome/conf/AdGuardHome.yaml > /tmp/adguard-config.yaml"}
{"timestamp":"2026-01-29T02:44:21.042Z","event":"bash","command":"kubectl -n network exec deployment/adguard-home -- sed -i 's|https://dns10.quad9.net/dns-query|9.9.9.9|g; s|https://dns.cloudflare.com/dns-query|1.1.1.1|g' /opt/adguardhome/conf/AdGuardHome.yaml"}
{"timestamp":"2026-01-29T02:44:22.213Z","event":"bash","command":"kubectl -n network exec deployment/adguard-home -- grep -A5 \"upstream_dns:\" /opt/adguardhome/conf/AdGuardHome.yaml"}
{"timestamp":"2026-01-29T02:44:22.739Z","event":"bash","command":"kubectl -n network rollout restart deployment/adguard-home"}
{"timestamp":"2026-01-29T02:46:30.622Z","event":"bash","command":"kubectl -n network delete pod -l app.kubernetes.io/name=adguard-home --force --grace-period=0"}
{"timestamp":"2026-01-29T02:46:31.458Z","event":"bash","command":"sleep 5 && kubectl -n network get pods -l app.kubernetes.io/name=adguard-home"}
{"timestamp":"2026-01-29T02:46:41.321Z","event":"bash","command":"kubectl -n network get deployment adguard-home -o yaml | grep -A5 \"replicas:\""}
{"timestamp":"2026-01-29T02:46:42.609Z","event":"bash","command":"kubectl -n network scale deployment adguard-home --replicas=0 && sleep 3 && kubectl -n network scale deployment adguard-home --replicas=1"}
{"timestamp":"2026-01-29T02:46:43.271Z","event":"bash","command":"sleep 10 && kubectl -n network get pods -l app.kubernetes.io/name=adguard-home"}
{"timestamp":"2026-01-29T02:47:16.908Z","event":"bash","command":"cat <<'EOF' | kubectl apply -f -\napiVersion: v1\nkind: Pod\nmetadata:\n  name: adguard-config-editor\n  namespace: network\nspec:\n  containers:\n  - name: editor\n    image: busybox\n    command: [\"sleep\", \"3600\"]\n    volumeMounts:\n    - name: config\n      mountPath: /config\n  volumes:\n  - name: config\n    persistentVolumeClaim:\n      claimName: adguard-home-config\nEOF\n"}
{"timestamp":"2026-01-29T02:47:17.848Z","event":"bash","command":"kubectl -n network wait --for=condition=ready pod/adguard-config-editor --timeout=30s"}
{"timestamp":"2026-01-29T02:47:19.967Z","event":"bash","command":"kubectl -n network exec adguard-config-editor -- sed -i 's|https://dns10.quad9.net/dns-query|9.9.9.9|g; s|https://dns.cloudflare.com/dns-query|1.1.1.1|g' /config/AdGuardHome.yaml"}
{"timestamp":"2026-01-29T02:47:20.954Z","event":"bash","command":"kubectl -n network exec adguard-config-editor -- grep -A7 \"upstream_dns:\" /config/AdGuardHome.yaml"}
{"timestamp":"2026-01-29T02:47:52.414Z","event":"bash","command":"kubectl -n network get pod adguard-config-editor -o wide"}
{"timestamp":"2026-01-29T02:47:53.089Z","event":"bash","command":"kubectl -n network describe pod adguard-config-editor | tail -20"}
{"timestamp":"2026-01-29T02:48:00.877Z","event":"bash","command":"kubectl get pods -A | grep Terminating"}
{"timestamp":"2026-01-29T02:48:01.806Z","event":"bash","command":"kubectl -n network get pods -l app.kubernetes.io/name=adguard-home -o wide"}
{"timestamp":"2026-01-29T02:48:02.405Z","event":"bash","command":"kubectl get volumeattachment | grep adguard"}
{"timestamp":"2026-01-29T02:48:08.876Z","event":"bash","command":"kubectl -n network describe pod adguard-home-5f7dbd55cd-nd95p | tail -30"}
{"timestamp":"2026-01-29T02:48:09.336Z","event":"bash","command":"kubectl get volumeattachment"}
{"timestamp":"2026-01-29T02:48:23.358Z","event":"bash","command":"kubectl delete volumeattachment csi-a03ccc8adbbd2ced93c006389f13fe788b7830b80eeac691c5ccc2cd62c1270f"}
{"timestamp":"2026-01-29T02:48:26.280Z","event":"bash","command":"kubectl delete volumeattachment csi-7d3fa9edb1c88df7f3a73a50c330a8fc7077a3ec8647f6cf5d0577f76a74e85f"}
{"timestamp":"2026-01-29T02:48:27.340Z","event":"bash","command":"sleep 5 && kubectl -n network get pods -l app.kubernetes.io/name=adguard-home"}
{"timestamp":"2026-01-29T02:48:37.980Z","event":"bash","command":"sleep 15 && kubectl -n network get pods -l app.kubernetes.io/name=adguard-home -o wide"}
{"timestamp":"2026-01-29T02:48:38.950Z","event":"bash","command":"kubectl -n network logs deployment/adguard-home --tail=20 2>&1"}
{"timestamp":"2026-01-29T02:49:00.106Z","event":"bash","command":"kubectl -n network describe pod adguard-home-5f7dbd55cd-nd95p | grep -A20 \"Events:\""}
{"timestamp":"2026-01-29T02:49:03.376Z","event":"bash","command":"kubectl get volumeattachment | grep -E \"2ff3a791-ee27-4c46-9dc6-c5105672c199|8539b296-7fb0-49e6-b4b3-34f691d9d5f6\""}
{"timestamp":"2026-01-29T02:49:10.844Z","event":"bash","command":"sleep 10 && kubectl -n network get pods -l app.kubernetes.io/name=adguard-home"}
{"timestamp":"2026-01-29T02:49:11.609Z","event":"bash","command":"kubectl -n network logs deployment/adguard-home --tail=30 2>&1 | head -40"}
{"timestamp":"2026-01-29T02:49:27.104Z","event":"bash","command":"kubectl -n network describe pod adguard-home-5f7dbd55cd-nd95p | tail -5"}
{"timestamp":"2026-01-29T02:49:28.147Z","event":"bash","command":"kubectl -n network get pod adguard-home-5f7dbd55cd-nd95p -o jsonpath='{.status.containerStatuses[0].state}'"}
{"timestamp":"2026-01-29T02:49:29.722Z","event":"bash","command":"sleep 20 && kubectl -n network get pods -l app.kubernetes.io/name=adguard-home && dig @10.0.50.107 google.com +short +time=2 2>&1 | head -5"}
{"timestamp":"2026-01-29T02:50:02.792Z","event":"bash","command":"kubectl -n network get events --field-selector involvedObject.name=adguard-home-5f7dbd55cd-nd95p --sort-by='.lastTimestamp' | tail -15"}
{"timestamp":"2026-01-29T02:50:03.840Z","event":"bash","command":"kubectl -n network get pod adguard-home-5f7dbd55cd-nd95p -o jsonpath='{.status.conditions}' | jq"}
{"timestamp":"2026-01-29T02:50:04.651Z","event":"bash","command":"kubectl -n network delete pod adguard-config-editor --force --grace-period=0 2>&1"}
{"timestamp":"2026-01-29T02:50:15.414Z","event":"bash","command":"kubectl -n network get pod adguard-home-5f7dbd55cd-nd95p -o jsonpath='{.spec.containers[0].image}'"}
{"timestamp":"2026-01-29T02:50:16.538Z","event":"bash","command":"kubectl get nodes worker1 -o jsonpath='{.status.conditions[?(@.type==\"Ready\")]}' | jq"}
{"timestamp":"2026-01-29T02:50:17.769Z","event":"bash","command":"sleep 30 && kubectl -n network get pod -l app.kubernetes.io/name=adguard-home -o wide"}
{"timestamp":"2026-01-29T02:51:24.086Z","event":"bash","command":"kubectl -n network delete pod adguard-home-5f7dbd55cd-nd95p"}
{"timestamp":"2026-01-29T02:51:25.946Z","event":"bash","command":"kubectl -n network patch deployment adguard-home --type=json -p='[{\"op\": \"add\", \"path\": \"/spec/template/spec/affinity\", \"value\": {\"nodeAffinity\": {\"requiredDuringSchedulingIgnoredDuringExecution\": {\"nodeSelectorTerms\": [{\"matchExpressions\": [{\"key\": \"kubernetes.io/hostname\", \"operator\": \"NotIn\", \"values\": [\"worker1\"]}]}]}}}}]'"}
{"timestamp":"2026-01-29T02:51:26.856Z","event":"bash","command":"sleep 10 && kubectl -n network get pods -l app.kubernetes.io/name=adguard-home -o wide"}
{"timestamp":"2026-01-29T02:51:43.170Z","event":"bash","command":"sleep 30 && kubectl -n network get pods -l app.kubernetes.io/name=adguard-home -o wide"}
{"timestamp":"2026-01-29T02:51:43.950Z","event":"bash","command":"kubectl -n network wait --for=condition=ready pod -l app.kubernetes.io/name=adguard-home --timeout=120s 2>&1"}
{"timestamp":"2026-01-29T02:53:55.063Z","event":"bash","command":"kubectl -n network scale deployment adguard-home --replicas=0"}
{"timestamp":"2026-01-29T02:53:55.781Z","event":"bash","command":"kubectl -n network wait --for=delete pod -l app.kubernetes.io/name=adguard-home --timeout=60s"}
{"timestamp":"2026-01-29T02:53:57.874Z","event":"bash","command":"cat <<'EOF' | kubectl apply -f -\napiVersion: v1\nkind: Pod\nmetadata:\n  name: fix-adguard-config\n  namespace: network\nspec:\n  containers:\n  - name: alpine\n    image: alpine:latest\n    command: [\"sleep\", \"300\"]\n    volumeMounts:\n    - name: config\n      mountPath: /config\n  volumes:\n  - name: config\n    persistentVolumeClaim:\n      claimName: adguard-home-config\n  restartPolicy: Never\nEOF\n"}
{"timestamp":"2026-01-29T02:53:58.854Z","event":"bash","command":"kubectl -n network wait --for=condition=ready pod/fix-adguard-config --timeout=60s"}
{"timestamp":"2026-01-29T02:55:14.222Z","event":"bash","command":"kubectl -n network delete pod fix-adguard-config 2>&1"}
{"timestamp":"2026-01-29T02:55:26.407Z","event":"bash","command":"kubectl -n network get pods -l app.kubernetes.io/name=adguard-home"}
{"timestamp":"2026-01-29T02:55:27.119Z","event":"bash","command":"kubectl -n network describe pod -l app.kubernetes.io/name=adguard-home 2>&1 | grep -A30 \"Events:\" | head -35"}
{"timestamp":"2026-01-29T02:55:28.045Z","event":"bash","command":"kubectl -n network logs -l app.kubernetes.io/name=adguard-home --all-containers=true 2>&1"}
{"timestamp":"2026-01-29T02:56:22.623Z","event":"bash","command":"kubectl -n network patch deployment adguard-home --type=json -p='[{\"op\": \"remove\", \"path\": \"/spec/template/spec/affinity\"}]'"}
{"timestamp":"2026-01-29T02:56:23.382Z","event":"bash","command":"kubectl -n network scale deployment adguard-home --replicas=1"}
{"timestamp":"2026-01-29T02:56:24.571Z","event":"bash","command":"sleep 10 && kubectl -n network get pods -l app.kubernetes.io/name=adguard-home -o wide"}
{"timestamp":"2026-01-29T02:56:40.442Z","event":"bash","command":"kubectl -n network wait --for=condition=ready pod -l app.kubernetes.io/name=adguard-home --timeout=90s 2>&1 || kubectl -n network describe pod -l app.kubernetes.io/name=adguard-home | tail -20"}
{"timestamp":"2026-01-29T02:58:22.504Z","event":"bash","command":"kubectl get volumeattachment | grep -E \"pvc-2ff3a791|pvc-8539b296\""}
{"timestamp":"2026-01-29T02:58:24.383Z","event":"bash","command":"kubectl get pods -A -o json | jq -r '.items[] | select(.spec.volumes != null) | select(.spec.volumes[].persistentVolumeClaim.claimName | select(. == \"adguard-home-config\" or . == \"adguard-home-data\")) | \"\\(.metadata.namespace)/\\(.metadata.name)\"'"}
{"timestamp":"2026-01-29T02:58:26.063Z","event":"bash","command":"kubectl -n rook-ceph logs -l app=csi-rbdplugin --tail=20 | grep -i \"86c52e7e-b1b9-41bc-8452-dc12dd7c128b\\|b3be025d-f26b-426f-8391-6c89577f8122\" | tail -10"}
{"timestamp":"2026-01-29T07:13:39.201Z","event":"bash","command":"kubectl -n rook-ceph get pods -l app=csi-rbdplugin"}
{"timestamp":"2026-01-29T07:13:40.149Z","event":"bash","command":"kubectl -n rook-ceph delete pod -l app=csi-rbdplugin --field-selector spec.nodeName=worker1"}
{"timestamp":"2026-01-29T07:13:41.256Z","event":"bash","command":"sleep 15 && kubectl -n network get pods -l app.kubernetes.io/name=adguard-home -o wide"}
{"timestamp":"2026-01-29T07:14:03.433Z","event":"bash","command":"kubectl -n rook-ceph get pods -l app=rook-ceph-operator"}
{"timestamp":"2026-01-29T07:14:04.013Z","event":"bash","command":"kubectl get namespace rook-ceph"}
{"timestamp":"2026-01-29T07:14:04.791Z","event":"bash","command":"kubectl -n network get deployment adguard-home"}
{"timestamp":"2026-01-29T07:14:05.507Z","event":"bash","command":"kubectl get pods -A | grep -i csi"}
{"timestamp":"2026-01-29T07:14:11.688Z","event":"bash","command":"kubectl -n network get events --field-selector involvedObject.name=adguard-home --sort-by='.lastTimestamp' | tail -15"}
{"timestamp":"2026-01-29T07:14:12.417Z","event":"bash","command":"kubectl -n network get deployment adguard-home -o jsonpath='{.spec.replicas}'"}
{"timestamp":"2026-01-29T07:14:13.230Z","event":"bash","command":"kubectl -n network scale deployment adguard-home --replicas=1"}
{"timestamp":"2026-01-29T07:14:14.078Z","event":"bash","command":"sleep 5 && kubectl -n network get pods -l app.kubernetes.io/name=adguard-home -o wide"}
{"timestamp":"2026-01-29T07:14:24.059Z","event":"bash","command":"sleep 30 && kubectl -n network describe pod -l app.kubernetes.io/name=adguard-home | tail -15"}
{"timestamp":"2026-01-29T07:14:59.625Z","event":"bash","command":"kubectl -n rook-ceph get pod -l app=rook-ceph-rbd-plugin --field-selector spec.nodeName=worker1"}
{"timestamp":"2026-01-29T07:15:00.371Z","event":"bash","command":"kubectl -n rook-ceph delete pod -l app=rook-ceph-rbd-plugin --field-selector spec.nodeName=worker1"}
{"timestamp":"2026-01-29T07:15:01.641Z","event":"bash","command":"sleep 20 && kubectl -n network get pods -l app.kubernetes.io/name=adguard-home -o wide"}
{"timestamp":"2026-01-29T07:15:28.966Z","event":"bash","command":"kubectl -n rook-ceph get pod | grep \"rbd.csi.ceph.com-nodeplugin\" | grep worker1"}
{"timestamp":"2026-01-29T07:15:29.876Z","event":"bash","command":"kubectl get node worker1 -o json | jq -r '.metadata.labels[\"kubernetes.io/hostname\"]'"}
{"timestamp":"2026-01-29T07:15:35.498Z","event":"bash","command":"kubectl -n rook-ceph get daemonset | grep rbd.csi"}
{"timestamp":"2026-01-29T07:15:36.431Z","event":"bash","command":"kubectl -n rook-ceph get pod -l app=csi-rbdplugin-nodeplugin -o wide | grep worker1"}
{"timestamp":"2026-01-29T07:15:42.314Z","event":"bash","command":"kubectl -n rook-ceph get pods -o wide | awk '/rbd.csi.ceph.com-nodeplugin/ && /worker1/ {print $1}'"}
{"timestamp":"2026-01-29T07:15:47.289Z","event":"bash","command":"kubectl -n rook-ceph delete pod rook-ceph.rbd.csi.ceph.com-nodeplugin-sf8k6"}
{"timestamp":"2026-01-29T07:15:48.698Z","event":"bash","command":"sleep 20 && kubectl -n network get pods -l app.kubernetes.io/name=adguard-home -o wide"}
{"timestamp":"2026-01-29T07:15:50.701Z","event":"bash","command":"kubectl -n network wait --for=condition=ready pod -l app.kubernetes.io/name=adguard-home --timeout=60s 2>&1 && dig @10.0.50.107 google.com +short +time=3"}
{"timestamp":"2026-01-29T07:20:09.575Z","event":"bash","command":"kubectl get pods -A | grep -i terminating"}
{"timestamp":"2026-01-29T07:20:10.629Z","event":"bash","command":"kubectl -n network get pods -l app.kubernetes.io/name=adguard-home --show-labels"}
{"timestamp":"2026-01-29T07:20:12.928Z","event":"bash","command":"kubectl get volumeattachment -o json | jq -r '.items[] | select(.spec.source.persistentVolumeName | contains(\"pvc-2ff3a791\") or contains(\"pvc-8539b296\")) | \"\\(.metadata.name) -> \\(.spec.nodeName) (attached: \\(.status.attached))\"'"}
{"timestamp":"2026-01-29T07:20:16.888Z","event":"bash","command":"kubectl -n rook-ceph logs rook-ceph.rbd.csi.ceph.com-nodeplugin-sf8k6 -c csi-rbdplugin 2>&1 | grep -i \"86c52e7e-b1b9-41bc-8452-dc12dd7c128b\\|b3be025d-f26b-426f-8391-6c89577f8122\" | tail -20"}
{"timestamp":"2026-01-29T07:20:27.751Z","event":"bash","command":"kubectl -n rook-ceph delete pod rook-ceph.rbd.csi.ceph.com-nodeplugin-sf8k6 --force --grace-period=0"}
{"timestamp":"2026-01-29T07:20:29.113Z","event":"bash","command":"sleep 10 && kubectl -n rook-ceph get pods | grep \"rbd.csi.ceph.com-nodeplugin\" | grep worker1"}
{"timestamp":"2026-01-29T07:20:30.182Z","event":"bash","command":"sleep 15 && kubectl -n network get pods -l app.kubernetes.io/name=adguard-home -o wide"}
{"timestamp":"2026-01-29T07:20:31.483Z","event":"bash","command":"kubectl -n network wait --for=condition=ready pod -l app.kubernetes.io/name=adguard-home --timeout=60s 2>&1"}
{"timestamp":"2026-01-29T07:21:38.598Z","event":"bash","command":"kubectl -n rook-ceph get daemonset rook-ceph.rbd.csi.ceph.com-nodeplugin -o jsonpath='{.status}' | jq"}
{"timestamp":"2026-01-29T07:21:39.464Z","event":"bash","command":"kubectl -n rook-ceph get pods -l app=csi-rbdplugin -o wide"}
{"timestamp":"2026-01-29T07:21:40.548Z","event":"bash","command":"kubectl -n network describe pod adguard-home-5f7dbd55cd-cztb5 | tail -10"}
{"timestamp":"2026-01-29T07:21:51.718Z","event":"bash","command":"kubectl -n rook-ceph get pods -o wide | grep rbd.csi.ceph.com-nodeplugin"}
{"timestamp":"2026-01-29T07:21:52.653Z","event":"bash","command":"kubectl -n rook-ceph rollout restart daemonset rook-ceph.rbd.csi.ceph.com-nodeplugin"}
{"timestamp":"2026-01-29T07:21:54.185Z","event":"bash","command":"sleep 20 && kubectl -n rook-ceph get pods -o wide | grep -E \"rbd.csi.ceph.com-nodeplugin.*worker1\""}
{"timestamp":"2026-01-29T07:21:56.455Z","event":"bash","command":"sleep 30 && kubectl -n network get pods -l app.kubernetes.io/name=adguard-home && dig @10.0.50.107 google.com +short +time=2 2>&1 | head -3"}
{"timestamp":"2026-01-29T07:22:39.647Z","event":"bash","command":"kubectl -n network wait --for=condition=ready pod -l app.kubernetes.io/name=adguard-home --timeout=60s 2>&1 || kubectl -n network describe pod -l app.kubernetes.io/name=adguard-home | tail -15"}
{"timestamp":"2026-01-29T07:23:46.755Z","event":"bash","command":"kubectl -n network get pods -l app.kubernetes.io/name=adguard-home -o wide"}
{"timestamp":"2026-01-29T07:23:47.543Z","event":"bash","command":"kubectl -n network logs -l app.kubernetes.io/name=adguard-home --tail=10 2>&1"}
{"timestamp":"2026-01-29T07:24:29.300Z","event":"bash","command":"kubectl -n network get pod adguard-home-5f7dbd55cd-7cmn9 -o jsonpath='{.spec.initContainers}' | jq 2>&1"}
{"timestamp":"2026-01-29T07:24:30.270Z","event":"bash","command":"kubectl -n network get pod adguard-home-5f7dbd55cd-7cmn9 -o jsonpath='{.status.containerStatuses[0]}' | jq"}
{"timestamp":"2026-01-29T07:24:31.316Z","event":"bash","command":"kubectl -n network get events --field-selector involvedObject.name=adguard-home-5f7dbd55cd-7cmn9 --sort-by='.lastTimestamp' | tail -20"}
{"timestamp":"2026-01-29T07:24:32.236Z","event":"bash","command":"kubectl get node worker0 -o jsonpath='{.status.conditions[?(@.type==\"Ready\")].status}'"}
{"timestamp":"2026-01-29T07:24:41.281Z","event":"bash","command":"kubectl get volumeattachment -o json | jq -r '.items[] | select(.spec.source.persistentVolumeName | contains(\"pvc-2ff3a791\") or contains(\"pvc-8539b296\")) | \"\\(.metadata.name) node=\\(.spec.nodeName) attached=\\(.status.attached)\"'"}
{"timestamp":"2026-01-29T07:24:43.449Z","event":"bash","command":"kubectl -n rook-ceph logs daemonset/rook-ceph.rbd.csi.ceph.com-nodeplugin -c csi-rbdplugin --tail=50 | grep -i \"86c52e7e-b1b9-41bc-8452-dc12dd7c128b\\|b3be025d-f26b-426f-8391-6c89577f8122\""}
{"timestamp":"2026-01-29T07:24:45.478Z","event":"bash","command":"for node in worker0 worker1 worker2; do echo \"=== $node ===\"; kubectl -n rook-ceph exec -it daemonset/rook-ceph.rbd.csi.ceph.com-nodeplugin --field-selector spec.nodeName=$node -c csi-rbdplugin -- rbd device list 2>/dev/null || echo \"Failed\"; done"}
{"timestamp":"2026-01-29T07:24:53.366Z","event":"bash","command":"kubectl -n network scale deployment adguard-home --replicas=0"}
{"timestamp":"2026-01-29T07:24:58.581Z","event":"bash","command":"kubectl delete volumeattachment csi-5cb183872a277cb5ca48c6efa7cfe2a53b5632593f1f9549e086cfb79d0f4ea3 csi-a18b541fa5001f63d4ce07d19c991f210b660eed11690962c2554bdc8c262ed2"}
{"timestamp":"2026-01-29T07:24:59.630Z","event":"bash","command":"kubectl -n rook-ceph delete pod -l app=csi-rbdplugin"}
{"timestamp":"2026-01-29T07:25:00.832Z","event":"bash","command":"sleep 30 && kubectl -n rook-ceph get pods -l app=csi-rbdplugin -o wide | head -10"}
{"timestamp":"2026-01-29T07:25:02.407Z","event":"bash","command":"kubectl -n network scale deployment adguard-home --replicas=1 && sleep 45 && kubectl -n network get pods -l app.kubernetes.io/name=adguard-home -o wide"}
{"timestamp":"2026-01-29T07:25:04.207Z","event":"bash","command":"kubectl -n network wait --for=condition=ready pod -l app.kubernetes.io/name=adguard-home --timeout=90s 2>&1 && dig @10.0.50.107 google.com +short +time=3"}
{"timestamp":"2026-01-29T07:26:32.458Z","event":"bash","command":"kubectl get pods -A -o wide | grep worker1 | wc -l"}
{"timestamp":"2026-01-29T07:26:33.479Z","event":"bash","command":"kubectl drain worker1 --ignore-daemonsets --delete-emptydir-data --grace-period=30"}
{"timestamp":"2026-01-29T07:28:16.991Z","event":"bash","command":"kubectl get node worker1 -o jsonpath='{.status.addresses[?(@.type==\"InternalIP\")].address}'"}
{"timestamp":"2026-01-29T07:28:17.840Z","event":"bash","command":"talosctl -n $(kubectl get node worker1 -o jsonpath='{.status.addresses[?(@.type==\"InternalIP\")].address}') reboot"}
{"timestamp":"2026-01-29T07:29:55.594Z","event":"bash","command":"kubectl get nodes"}
{"timestamp":"2026-01-29T07:29:56.250Z","event":"bash","command":"kubectl get node worker1 -o jsonpath='{.status.conditions[?(@.type==\"Ready\")]}'"}
{"timestamp":"2026-01-29T07:29:57.311Z","event":"bash","command":"talosctl -n 10.0.50.11 version 2>&1 | head -5"}
{"timestamp":"2026-01-29T07:30:04.421Z","event":"bash","command":"talosctl -n 10.0.50.11 dmesg 2>&1 | tail -20"}
{"timestamp":"2026-01-29T07:30:05.070Z","event":"bash","command":"ping -c 3 10.0.50.11"}
{"timestamp":"2026-01-29T07:30:14.338Z","event":"bash","command":"kubectl -n rook-ceph exec -it deploy/rook-ceph-tools -- ceph status"}
{"timestamp":"2026-01-29T07:30:14.985Z","event":"bash","command":"kubectl -n rook-ceph exec -it deploy/rook-ceph-tools -- ceph df"}
{"timestamp":"2026-01-29T07:30:15.607Z","event":"bash","command":"kubectl get node worker1"}
{"timestamp":"2026-01-29T07:30:26.362Z","event":"bash","command":"kubectl uncordon worker1"}
{"timestamp":"2026-01-29T07:30:26.880Z","event":"bash","command":"sleep 10 && kubectl get node worker1"}
{"timestamp":"2026-01-29T07:31:17.246Z","event":"bash","command":"kubectl get pvc -A --sort-by=.status.capacity.storage -o custom-columns=\"NAMESPACE:.metadata.namespace,NAME:.metadata.name,SIZE:.status.capacity.storage,STORAGECLASS:.spec.storageClassName\" | grep -i ceph"}
{"timestamp":"2026-01-29T07:31:18.719Z","event":"bash","command":"kubectl -n rook-ceph exec deploy/rook-ceph-tools -- rbd du -p ceph-blockpool 2>&1 | grep -v \"Unable to use\" | head -30"}
{"timestamp":"2026-01-29T07:31:19.585Z","event":"bash","command":"kubectl -n rook-ceph exec deploy/rook-ceph-tools -- rados df 2>&1 | grep -v \"Unable to use\""}
{"timestamp":"2026-01-29T07:31:50.945Z","event":"bash","command":"kubectl get objectbucketclaim -A 2>&1"}
{"timestamp":"2026-01-29T07:31:52.534Z","event":"bash","command":"kubectl -n rook-ceph exec deploy/rook-ceph-tools -- radosgw-admin bucket stats 2>&1 | grep -E '\"bucket\":|\"num_objects\":|\"size_actual\":' | head -30"}
{"timestamp":"2026-01-29T07:32:12.378Z","event":"bash","command":"kubectl -n rook-ceph exec deploy/rook-ceph-tools -- radosgw-admin bucket list 2>&1"}
{"timestamp":"2026-01-29T07:32:13.320Z","event":"bash","command":"kubectl -n rook-ceph get objectbucketclaim postgres-backups -o jsonpath='{.spec.bucketName}' && echo \"\""}
{"timestamp":"2026-01-29T07:32:14.522Z","event":"bash","command":"kubectl -n rook-ceph get secret rook-ceph-object-user-ceph-objectstore-ceph-objectstore-user -o jsonpath='{.data.AccessKey}' | base64 -d && echo \"\""}
{"timestamp":"2026-01-29T07:32:26.557Z","event":"bash","command":"kubectl -n databases get cluster v17 -o jsonpath='{.spec.backup}' | jq"}
{"timestamp":"2026-01-29T07:32:27.371Z","event":"bash","command":"kubectl get node worker1 -o wide"}
{"timestamp":"2026-01-29T07:34:20.288Z","event":"bash","command":"kubectl cluster-info"}
{"timestamp":"2026-01-29T07:34:20.347Z","event":"bash","command":"kubectl get nodes"}
{"timestamp":"2026-01-29T07:34:20.894Z","event":"bash","command":"ping -c 3 10.0.50.50"}
{"timestamp":"2026-01-29T07:34:43.978Z","event":"bash","command":"ping -c 2 10.0.50.1 && ping -c 2 10.0.50.2"}
{"timestamp":"2026-01-29T07:34:45.154Z","event":"bash","command":"talosctl -n 10.0.50.1 version 2>&1 | head -5"}
{"timestamp":"2026-01-29T07:34:46.094Z","event":"bash","command":"talosctl -n 10.0.50.1 get members 2>&1"}
{"timestamp":"2026-01-29T07:34:46.845Z","event":"bash","command":"talosctl -n 10.0.50.1 service kubelet status 2>&1"}
{"timestamp":"2026-01-29T07:34:52.942Z","event":"bash","command":"talosctl -n 10.0.50.1 service etcd status 2>&1"}
{"timestamp":"2026-01-29T07:34:53.551Z","event":"bash","command":"talosctl -n 10.0.50.1 service kube-apiserver status 2>&1"}
{"timestamp":"2026-01-29T07:34:54.260Z","event":"bash","command":"talosctl -n 10.0.50.1 etcd members 2>&1"}
{"timestamp":"2026-01-29T07:34:55.223Z","event":"bash","command":"curl -k https://10.0.50.1:6443/healthz 2>&1"}
{"timestamp":"2026-01-29T07:35:04.776Z","event":"bash","command":"talosctl -n 10.0.50.2 service etcd status 2>&1"}
{"timestamp":"2026-01-29T07:35:05.710Z","event":"bash","command":"talosctl -n 10.0.50.1 logs etcd 2>&1 | tail -20"}
{"timestamp":"2026-01-29T07:35:06.304Z","event":"bash","command":"talosctl -n 10.0.50.1 service etcd restart 2>&1"}
{"timestamp":"2026-01-29T07:35:06.951Z","event":"bash","command":"talosctl -n 10.0.50.2 service etcd restart 2>&1"}
{"timestamp":"2026-01-29T07:35:07.804Z","event":"bash","command":"sleep 15 && talosctl -n 10.0.50.1 etcd members 2>&1"}
{"timestamp":"2026-01-29T07:36:37.734Z","event":"bash","command":"talosctl -n 10.0.50.11 containers 2>&1 | grep -i ceph | head -10"}
{"timestamp":"2026-01-29T07:36:38.855Z","event":"bash","command":"talosctl -n 10.0.50.12 containers 2>&1 | grep -E \"ceph-tools|rook\" | head -10"}
{"timestamp":"2026-01-29T07:36:39.902Z","event":"bash","command":"talosctl -n 10.0.50.10 containers 2>&1 | grep -i \"rook-ceph-tools\""}
{"timestamp":"2026-01-29T07:36:45.708Z","event":"bash","command":"talosctl -n 10.0.50.10 read /var/lib/containerd 2>&1 | head -5"}
{"timestamp":"2026-01-29T07:36:46.473Z","event":"bash","command":"talosctl -n 10.0.50.10 list /run/containerd 2>&1"}
{"timestamp":"2026-01-29T07:36:47.425Z","event":"bash","command":"talosctl -n 10.0.50.10 get services 2>&1 | grep -i cri"}
{"timestamp":"2026-01-29T07:37:05.347Z","event":"bash","command":"talosctl -n 10.0.50.1 reboot"}
{"timestamp":"2026-01-29T07:37:06.298Z","event":"bash","command":"sleep 5 && talosctl -n 10.0.50.2 reboot"}
{"timestamp":"2026-01-29T07:37:07.474Z","event":"bash","command":"echo \"Waiting 60s for control planes to reboot...\" && sleep 60"}
{"timestamp":"2026-01-29T07:37:08.026Z","event":"bash","command":"kubectl cluster-info 2>&1"}
{"timestamp":"2026-01-29T08:00:52.203Z","event":"bash","command":"kubectl -n rook-ceph get cephcluster rook-ceph -o jsonpath='{.status.ceph.health}' && echo \"\""}
{"timestamp":"2026-01-29T08:00:57.897Z","event":"bash","command":"kubectl -n rook-ceph exec -it deployment/rook-ceph-tools -- ceph df"}
{"timestamp":"2026-01-29T08:01:58.424Z","event":"bash","command":"kubectl -n rook-ceph exec -it deployment/rook-ceph-tools -- rados df -p ceph-objectstore.rgw.buckets.data"}
{"timestamp":"2026-01-29T08:02:52.074Z","event":"bash","command":"kubectl -n rook-ceph exec -it deployment/rook-ceph-tools -- radosgw-admin bucket list"}
{"timestamp":"2026-01-29T08:08:23.287Z","event":"bash","command":"kubectl -n cloud get pvc | grep linkding"}
{"timestamp":"2026-01-29T08:13:22.346Z","event":"bash","command":"kubectl -n cloud get all -l app.kubernetes.io/name=linkding"}
{"timestamp":"2026-01-29T08:14:34.674Z","event":"bash","command":"kubectl -n cloud delete deployment linkding"}
{"timestamp":"2026-01-29T08:14:53.464Z","event":"bash","command":"kubectl -n cloud delete service linkding"}
{"timestamp":"2026-01-29T08:15:50.023Z","event":"bash","command":"kubectl -n cloud delete pvc linkding"}
{"timestamp":"2026-01-29T08:16:24.423Z","event":"bash","command":"rm -rf kubernetes/apps/cloud/linkding"}
{"timestamp":"2026-01-29T08:17:44.917Z","event":"edit","file":"/Users/sohailahmed/Developer/home-ops/kubernetes/apps/cloud/kustomization.yaml","oldLength":143,"newLength":120}
{"timestamp":"2026-01-29T08:19:32.133Z","event":"bash","command":"git add . && git status"}
{"timestamp":"2026-01-29T08:20:15.757Z","event":"bash","command":"rm -rf kubernetes/apps/kube-system/goldilocks"}
{"timestamp":"2026-01-29T08:27:22.254Z","event":"edit","file":"/Users/sohailahmed/Developer/home-ops/kubernetes/apps/kube-system/kustomization.yaml","oldLength":264,"newLength":239}
{"timestamp":"2026-01-29T08:28:37.930Z","event":"bash","command":"git add . && git status"}
{"timestamp":"2026-01-29T08:40:14.878Z","event":"bash","command":"git commit -m \"remove linkding and goldilocks applications\""}
{"timestamp":"2026-01-29T08:40:21.122Z","event":"bash","command":"git push"}
{"timestamp":"2026-01-29T08:42:12.080Z","event":"bash","command":"git pull --rebase"}
{"timestamp":"2026-01-29T08:42:54.517Z","event":"bash","command":"git status"}
{"timestamp":"2026-01-29T08:44:26.579Z","event":"bash","command":"git add . && git pull --rebase"}
